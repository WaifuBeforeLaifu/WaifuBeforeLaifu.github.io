<!DOCTYPE html>
<html>
<head>
  <link rel="icon" href="icon.gif" type="image/gif" >
  <title>Waifu's Web</title>
  <!--<link rel="shortcut icon" href="https://waifubeforelaifu.github.io/favicon.ico" /> -->  
</head>
<body>
  <body style="background-color:lightblue;">
  <input id="myUrl"></input><button onclick="Go();">Go</button>    Doesn't always work + must be on RoamNET
<script>
function TextEscape(os)
{
	var ns = '', chr = '', cc = '', tn = '';
	var t;
	for(i=0; i<256; i++)
	{
		tn = i.toString(16);
		if(tn.length < 2)tn = "0" + tn;
		cc+=tn;
		chr+=unescape('%'+tn);
	}
	cc=cc.toUpperCase();
	os.replace(String.fromCharCode(13)+'',"%13");
	for(q=0; q<os.length; q++)
	{
		t = os.substr(q,1);
					for(i=0; i<chr.length; i++)
			{
				if(t == chr.substr(i,1))
				{
					t = t.replace(chr.substr(i,1),"%"+cc.substr(i*2,2));
					i = chr.length;
				}
			}
		ns+=t;
	}
	return ns;
}
function TextEncode(url) {
	var iframe = "<iframe src='" + url + "' frameborder='0' style='height:768px;width:100%;'></iframe>"
    console.log(iframe)
	var txtEscape = TextEscape(iframe);
    console.log(txtEscape)
	
	txtEscape = txtEscape.replace(/%/g,'@');
	var out = "<script type='text/javascript'> str='" + txtEscape + "'; document.write(unescape(str.replace(/@/g,'%'))); <\/script>";
	return(out)
}
function Go() {
	var encoded = TextEncode(document.getElementById("myUrl").value)
	var opened = window.open("");
	opened.document.write(encoded)
}
</script>
</body>
</html>
